# プロジェクト改善履歴

## デバッグ履歴

### CI Lintエラーの解決 (2025-06-15)

**問題**: GitHub ActionsのLintタスクが失敗

**原因**:

- 各configsパッケージ（`@configs/react`, `@configs/node`, `@configs/next`）が`@configs/common`の型定義とESLint設定を使用
- `turbo.json`で`lint`タスクが`build`タスクに依存していなかった
- CI環境でLintが実行される際に必要なビルド済みファイル（`dist/eslint/eslint.config.mjs`）が存在しなかった

**解決策**:

`turbo.json`を修正し、`lint`タスクの依存関係に`^build`を追加：

```json
"lint": {
  "dependsOn": ["^build", "^lint"]
}
```

**学習事項**:

- モノレポ環境でのパッケージ間依存関係を正しく設定する重要性
- CI環境でのタスク実行順序の考慮が必要
- ローカル環境とCI環境での動作差異に注意

## パフォーマンス改善履歴

現在のところ、パフォーマンス改善の取り組みは実施していない。今後の開発で蓄積していく。

## 問題解決の試行錯誤

### Git操作の学習 (2025-06-15)

**状況**: mainブランチで直接コミットしてしまい、プルリクエスト作成のためにブランチを作成する必要が発生

**試行錯誤**:

1. `git reset --hard HEAD~1`でコミットを削除しようとして危険性を指摘される
2. 正しい手順として以下を実行：
   - `git checkout -b improve/config-packages`で新しいブランチを作成
   - `git checkout main`でmainブランチに戻る
   - `git reset --soft HEAD~1`でコミットを取り消し（変更はステージに残る）
   - `git restore --staged .`で変更をアンステージ
   - フィーチャーブランチに戻ってコミット・プッシュ・PR作成

**学習事項**:

- `--hard`は変更を完全に削除するため危険
- `--soft`は変更をステージに残すため安全
- Git操作の順序と各コマンドの影響を理解することの重要性

## 今後の改善予定

### Phase 1: インフラ構築完了後

- Hono Backend基盤構築での問題・解決策の記録
- Better Auth設定での問題・解決策の記録
- Turso Database設定での問題・解決策の記録

### Phase 2: 基本機能実装完了後

- 認証システム実装での問題・解決策の記録
- データ記録・表示機能実装での問題・解決策の記録
- データ同期機能実装での問題・解決策の記録

### Phase 3: 機能拡張完了後

- 統計データ分析機能実装での問題・解決策の記録
- トレーニング計画作成機能実装での問題・解決策の記録
- 音声・画像入力機能実装での問題・解決策の記録（将来）

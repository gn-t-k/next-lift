---
name: adr
description: 技術的な意思決定やアーキテクチャの選択について議論した場合に使用する。ライブラリ選定、設計パターンの決定、技術スタックの変更などの議論があったら、ADRとして記録することを提案する。
---

# ADR (Architecture Decision Record) 管理

技術的な意思決定を記録するためのスキル。

## いつ使うか

以下のような議論があった場合、「この決定をADRとして記録しますか？」とユーザーに確認する:

- 新しいライブラリやフレームワークの選定
- アーキテクチャパターンの決定
- データベースや認証方式の選択
- 既存の技術的決定の変更
- トレードオフを伴う設計判断

## 確認の仕方

議論が一段落したら、以下のように確認する:

> この決定をADRとして記録しますか？記録しておくと、将来同じ議論を繰り返さずに済みます。

ユーザーが同意した場合のみ、以下の手順を実行する。

## 実行手順

### 1. ヒアリング

以下についてユーザーに確認（議論の中で既に出ていれば省略可）:

1. **タイトル**: 何についての技術決定か
2. **選定理由**: なぜこれを選んだのか
3. **代替案**: 他に検討した選択肢
4. **背景**: どのような課題や要件があったか
5. **結果・影響**: メリット・デメリット

### 2. ADRファイル作成

`docs/architecture-decision-record/`の既存ADRを確認し、次の番号でファイルを作成:

**ファイル名**: `XXX-<title-in-kebab-case>.md`

```markdown
# ADR-XXX: <タイトル>

## ステータス

Accepted

## コンテキスト

<決定の背景>

## 決定内容

<何を決定したか>

## 結果・影響

### メリット
- ...

### デメリット
- ...

## 代替案

### <代替案名>
- **却下理由**: <理由>

## 決定日

YYYY-MM-DD
```

### 3. 関連ファイルの更新

1. `docs/architecture-decision-record/README.md`のADR一覧に追加
2. 既存ADRを置き換える場合は、既存ADRを`Deprecated`に変更
3. `docs/architecture-decision-record/overview.md`を必要に応じて更新

## 注意事項

- すべて日本語で記述
- 既存ADRとの整合性を保つ
- ユーザーが不要と言った場合は記録しない

---
description: タスク表に新しいタスクを対話形式で追加します。
---

# タスクの追加

以下の手順にしたがって、タスクを追加します。

## ステップ1: ユーザーが行うアクションを入力

```text
ユーザーが行うアクションを入力してください（例: トレーニング記録を作成する）：
```

- 空文字は受け付けません
- 「〜する」形式を推奨します

## ステップ2: システムが提供する機能を入力

```text
「{ユーザータスク}」に対して、システムが提供する機能を入力してください：
```

- 空文字は受け付けません
- ユーザータスクに対応する具体的な機能を記述してください

## ステップ3: CRUD分類を選択（C/R/U/D）

```text
このタスクのCRUD分類を選択してください：
[C] Create（作成）- 新規データの作成、保存、登録
[R] Read（読み込み）- データの表示、検索、取得
[U] Update（更新）- 既存データの変更、編集、状態変更
[D] Delete（削除）- データの削除、完全消去
> 
```

- C/R/U/Dのいずれか1文字を入力
- 大文字小文字どちらでも可

## ステップ4: 関連するユースケースを入力（任意）

```text
関連するユースケースを入力してください（複数の場合はカンマ区切り、スキップする場合は空欄）：
```

- 省略可能
- @docs/model-based-ui-design/specs/01-use-case-definition.mdに登録されているIDのみ受け付ける

## ステップ5: 優先度の選択

```text
優先度を選択してください：
[1] 高
[2] 中
[3] 低
（デフォルト: 中）
> 
```

- 1-3の数値を入力
- 空欄の場合は「中」

## ステップ6: 確認と追加

```text
以下の内容でタスクを追加します：
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
ユーザー: {入力されたユーザータスク}
システム: {入力されたシステムタスク}
CRUD: {選択されたCRUD}
ユースケース: {入力されたユースケース}
優先度: {選択された優先度}
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

追加しますか？ [Y/n]: 
```

- Y/yまたは空欄で追加実行
- N/nでキャンセル

## 実行後の動作

1. @docs/model-based-ui-design/specs/02-task-analysis.mdのタスク表に新しい行を追加
2. マークダウンのテーブル形式を保持
3. 追加完了メッセージを表示

## エラー処理

- 入力値が不正な場合: 有効な値の再入力を促す
- タスクが重複している場合: 再入力を促す
- ファイルが見つからない場合: エラーメッセージを表示
- テーブル形式が不正な場合: 修正可能な場合は修正を提案し、ユーザーの判断が必要な場合は確認する

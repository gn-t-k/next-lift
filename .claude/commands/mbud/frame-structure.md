---
description: フレーム構造を対話で設計し、specs/04-frame-structure.md を作成/更新します
---

# フレーム構造設計

あなたはモデルベースUIデザイン（中盤：概念設計）のファシリテーター。ユーザーと対話しながら **恒常領域**・**単位ビュー**・**フレーム間の流れ**・**ワイヤーフレーム（Mermaid）** を確定し、成果物specs/04-frame-structure.mdを整える。

## 参照

- steering/00-handbook.md
- @docs/model-based-ui-design/steering/03-conceptual-design.md
- @docs/model-based-ui-design/specs/01-use-case-definition.md
- @docs/model-based-ui-design/specs/02-task-analysis.md
- @docs/model-based-ui-design/specs/03-content-structure.md
- @docs/model-based-ui-design/specs/04-frame-structure.md

## 対話のフロー

1. **インポート**：@参照を読み込み、コンテンツ構造から主要ビュー候補を抽出  
2. **恒常領域**：アプリ全体に常に表示される枠を列挙（例: グローバルナビ）  
3. **単位ビュー定義**：各ビューの名称・目的・表示対象（概念オブジェクト）・構成（併置/切替）・モード（モードレス/モード）を確認  
4. **フレーム間の流れ**：ビュー間の遷移（from/trigger/to/戻り先）を整理  
5. **ワイヤーフレーム生成**：上記をもとにMermaidの簡易図を生成  
6. **パッチ出力**：全体を修正パッチ形式で提示し、適用可否を確認  
7. **保存**：合意後にファイルを更新  

## 出力ファイルの書式

specs/04-frame-structure.mdに以下形式で出力する

```markdown
# フレーム構造

steering/04-frame-structure-design.md の内容をもとに、フレーム構造設計を行います。

## 単位ビュー一覧

### V:<ID> — <ビュー名>

- **役割**: <一覧/詳細/編集など>
- **関連オブジェクト**: <概念オブジェクト列>
- **ナビゲーション**: <遷移方針>
- **レイアウト**: <ヘッダー/コンテンツ/フッター等の枠組み>
- **備考**: <任意メモ>
```

ミュージックアプリの例

````markdown
# フレーム構造

## 恒常領域
- グローバルナビ
- トースト領域

## 単位ビュー一覧

### V:1 — トップビュー

- **目的**: ユーザーがプレイリストを一覧・選択する
- **表示対象**: プレイリスト
- **構成**: 併置
- **モード**: モードレス

### V:2 — 詳細ビュー

- **目的**: 選択したプレイリスト内のトラックを表示
- **表示対象**: トラック
- **構成**: 切替
- **モード**: モードレス

### V:3 — 編集ビュー

- **目的**: トラック情報を編集する
- **表示対象**: トラック
- **構成**: モーダル
- **モード**: モード

## フレーム間の流れ

- from: トップビュー
  trigger: プレイリストを選択
  to: 詳細ビュー
  戻り先: トップビュー

- from: 詳細ビュー
  trigger: 編集ボタンを押す
  to: 編集ビュー
  戻り先: 詳細ビュー

## ワイヤーフレーム（Mermaid）

```mermaid
flowchart TB
  Top[トップビュー<br/>プレイリスト一覧] -->|選択| Detail[詳細ビュー<br/>トラック一覧]
  Detail -->|編集ボタン| Edit[編集ビュー<br/>トラック編集]
  Edit -->|保存/キャンセル| Detail
  Detail -->|戻る| To
```

````

## 作業の原則

- ワイヤーフレームは図ではなくテキストで枠組みを表現
- 表示要素は役割単位（ヘッダー/リスト/フォームなど）にとどめ、UI部品や色は含めない
- 一覧・詳細・編集ビューを基本とし、過不足がないか確認
- グローバルナビゲーションは一貫性を優先し、後からの変更を極力避ける

---
description: ステージング済みおよび作業ツリーの差分を受け取り、論理的に分割されたコミットとブランチ構造を提案します。
---

# commit カスタムコマンド

あなたは経験豊富なGitコンサルタントです。以下の手順で変更を最適なコミットに分割し、明確なメッセージとブランチ構造を提案してください。

## 実行手順

### 1. サブエージェントに分析を依頼

**commit-analyzerサブエージェント**（@.claude/agents/commit-analyzer.md）を使用して変更内容を分析する。

サブエージェントへの指示:
> 現在の変更内容を分析し、コミット分割案を提案してください。

### 2. 提案の確認

サブエージェントからの提案をユーザーに提示し、以下を確認:

- ブランチ分割は適切か
- コミット分割は適切か
- コミットメッセージは適切か

### 3. 実行

ユーザーの承認後:

1. 現在のブランチを確認（mainなら新しいブランチを作成）
2. 提案に従ってコミットを実行
3. 必要に応じてプルリクエストを作成

## Gitワークフローの要件

- **mainブランチへの直接コミットは禁止**
- ブランチ命名規則は @.github/workflows/consistent-pull-request.yml に従う
- プルリクエスト作成時は @.github/pull_request_template.md を使用する

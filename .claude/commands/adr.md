# ADR (Architecture Decision Record) 管理コマンド

あなたは新しいArchitecture Decision Record (ADR）を追加するエキスパートです。

## 実行手順

### 1. ユーザーへのヒアリング

以下の項目についてユーザーにヒアリングしてください:

1. **ADRのタイトル**: 何についての技術決定か（例: "GraphQL API"、"Redis Cache"など）
2. **選定理由**: なぜこの技術/アーキテクチャを選んだのか
3. **代替案**: 他に検討した選択肢はあったか
4. **決定の背景**: どのような課題や要件があったか
5. **結果・影響**: この決定がもたらす結果（メリット・デメリット）
6. **決定日**: いつ決定したか（デフォルト: 今日）

### 2. 既存ADRの確認

`docs/architecture-decision-record/`ディレクトリ内の既存ADRを確認し、次の番号を決定してください。

### 3. ADRファイルの作成

以下のフォーマットで新しいADRファイルを作成してください:

**ファイル名**: `docs/architecture-decision-record/XXX-<title-in-kebab-case>.md`

**フォーマット**:

```markdown
# ADR-XXX: <タイトル>

## ステータス

Accepted

## コンテキスト

<決定の背景、なぜこの決定が必要だったか>

## 決定内容

<何を決定したか、具体的な技術やアーキテクチャ>

## 結果・影響

### メリット

- <メリット1>
- <メリット2>
- ...

### デメリット

- <デメリット1>
- <デメリット2>
- ...

## 代替案

以下の選択肢を検討した:

### <代替案1の名前>
- **却下理由**: <理由>

### <代替案2の名前>
- **却下理由**: <理由>

## 決定日

YYYY-MM-DD
```

### 4. README.mdの更新

`docs/architecture-decision-record/README.md`の「ADR一覧」セクションに新しいADRを追加してください。

適切なカテゴリ（アプリケーション層、認証、データベース・データアクセス、デプロイメント、開発環境・ツール、アーキテクチャパターン）に分類して追加してください。

### 5. 既存ADRのDeprecate(必要な場合)

新しいADRが既存のADRを置き換える場合:

1. 既存ADRのステータスを`Deprecated`に変更
2. 既存ADRに以下のセクションを追加:

```markdown
## Deprecated

このADRは[ADR-XXX: <新しいADRのタイトル>](./XXX-<新-title>.md）によって置き換えられました。

理由: <置き換えた理由>

廃止日: YYYY-MM-DD
```

### 6. overview.mdの更新

`docs/architecture-decision-record/overview.md`を読み込み、新しいADRの内容を反映して更新してください。

技術スタックの変更、アーキテクチャの変更があれば、該当箇所を更新してください。

## 重要な注意事項

- すべてのADRは**日本語**で記述してください
- 標準的なADRフォーマットにしたがってください
- ヒアリング内容を正確に反映してください
- 既存のADRとの整合性を保ってください
- overview.mdとの整合性を保ってください

## 実行開始

ユーザーへのヒアリングを開始してください。

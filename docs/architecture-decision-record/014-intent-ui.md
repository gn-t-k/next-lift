# ADR-014: Intent UIの採用

## ステータス

Accepted

## 関連ADR

- [ADR-015: Tailwind CSS v4の採用](./015-tailwind-css-v4.md) - Intent UIで使用するCSSフレームワーク

## コンテキスト

Next LiftのWebアプリケーションにおいて、UIコンポーネントライブラリの選定が必要だった。以下の要件を満たす必要があった：

- **高いアクセシビリティ**: キーボード操作のスムーズさ、マシンリーダビリティ
- **将来性**: AI Agent操作を見据えたマシンリーダビリティの確保
- **カスタマイズ性**: 高度なカスタマイズが可能であること
- **信頼性**: 安定したメンテナンス体制
- **開発効率**: 個人開発の時間制約を考慮し、完成品を使ってスタートできること

とくに、将来的にAI Agentから操作される可能性を鑑みて、マシンリーダビリティは重要な要件とした。

## 決定内容

**Intent UI**をWebアプリケーションのUIコンポーネントライブラリとして採用する。

### Intent UIの特徴

- **React Aria Componentsベース**: Adobeが開発・メンテナンスする高品質なアクセシビリティプリミティブ
- **copy-and-ownモデル**: コンポーネントをプロジェクトにコピーし、自由にカスタマイズ可能
- **shadcn/ui互換**: shadcn CLIを使用してコンポーネントをインストール
- **Tailwind CSS統合**: Tailwind CSSとシームレスに統合
- **OKLch色空間**: 知覚的に均一な配色システム

### セットアップ例

```bash
# Intent UIのテーマをインストール
npx shadcn@latest add https://intentui.com/r/theme-default

# コンポーネントをインストール
npx shadcn@latest add https://intentui.com/r/button
```

## 結果・影響

### メリット

- **高いアクセシビリティ**: React Aria Componentsによる堅牢なアクセシビリティ実装
  - キーボード操作のスムーズなUX
  - ARIA属性の適切な実装
  - スクリーンリーダー対応
- **マシンリーダビリティ**: AI Agent操作の基盤を確保
- **信頼性**: Adobeによる安定したメンテナンス体制
- **カスタマイズ性**: copy-and-ownモデルにより、ロックインされずに自由にカスタマイズ可能
- **開発効率**: 完成品を使ってスタートし、必要に応じてカスタマイズ
- **Tailwind CSS統合**: Tailwind CSSとシームレスに連携

### デメリット

- **学習コスト**: React Aria ComponentsのAPIを理解する必要がある
- **コード量**: コンポーネントをプロジェクトにコピーするため、コード量が増える
- **メンテナンス**: アップストリームの更新を手動で取り込む必要がある

## 代替案

以下の選択肢を検討した：

### shadcn/ui（オリジナル）

React Aria Componentsではなく、Radix UIをベースとしたUIライブラリ。

- **メリット**: 人気が高く、エコシステムが充実
- **却下理由**: 内部でRadix UIを使用しており、Radix UIのメンテナンスが滞っていることへの懸念

### Radix UI

headlessなUIプリミティブライブラリ。

- **メリット**: 高いカスタマイズ性、アクセシビリティ対応
- **却下理由**: メンテナンスが滞っている（2024年以降、リリース頻度が低下）

### Chakra UI

コンポーネントライブラリとデザインシステムを提供。

- **メリット**: デザインシステムが充実、人気が高い
- **却下理由**: カスタマイズ性に難あり（テーマシステムが複雑、copy-and-ownモデルでない）

### MUI (Material-UI)

もっとも人気のあるReact UIライブラリ。

- **メリット**: もっとも人気が高い、Material Designの実装
- **却下理由**: カスタマイズ性に難あり（Material Designに縛られる、copy-and-ownモデルでない）

### 完全自作

UIライブラリを使わず、Tailwind CSSだけで自作する。

- **メリット**: 完全な自由度、ロックインされない
- **却下理由**: 個人開発の時間制約上、現実的でない（本業と別にやっているプロジェクトで、時間がそれほどあるわけではない）

## トレードオフ

Intent UIの採用は以下のトレードオフを伴う：

- ✅ 高いアクセシビリティ、マシンリーダビリティ、信頼性、カスタマイズ性
- ❌ 学習コスト、コード量増加、手動メンテナンス

ただし、個人開発において完全自作は時間的に現実的でなく、かつ将来的なAI Agent操作やアクセシビリティを重視する本プロジェクトの要件を満たすため、Intent UIが最適な選択肢である。

## 決定日

2025-10-27

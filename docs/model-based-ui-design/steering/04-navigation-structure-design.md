# ナビゲーション構造設計

ナビゲーション構造設計は、UIにおいて適切な情報の粒度変化を表現し、ユーザーを目的のコンテンツまで導く経路を形作るための重要なプロセスです。UIの要素を肌や肉と例えるなら、ナビゲーション構造は骨格とその動き方です。骨格をしっかり作ることによって、その後の表層に近い部分の設計も矛盾なく成り立たせることが可能になります。

## ナビゲーション設計に着手すべき時期と基本的な考え方

ナビゲーション設計は、一般的に連想される「画面遷移図」や「サイトマップ」のような成果物を作る前に着手すべきです。具体的なUI部品の様子やレイアウトが決まった後から設計すると、レイアウトやコンテンツの変更があった場合に設計を一からやり直す必要が生じ、効率が悪くなります。

そのため、ナビゲーション設計は以下の二段階に分けて進めることが推奨されます。

- 全体像を大まかに決める設計: コンテンツ構造の設計と同時期に行い、大きな流れを決定します。この段階で矛盾を解消しておくことが重要です。
- 細かな状態遷移を決める設計: レイアウトなどの詳細を決める段階で着手します。

このアプローチにより、コンテンツ構造やユースケースの設計に合わせて全体の大きな流れをあらかじめ決めておき、修正作業の手戻りを最小限に抑えることが可能になります。

### 「画面」単位から「ビュー」単位への認識転換

UIデザインやWebデザインの現場では、UIを「画面」という単位で扱うことがありますが、この言葉は曖昧さを含み、設計の正確さを損なう可能性があります。WebサイトではHTMLページを「画面」と見なしがちですが、無限スクロールやモーダルビューの展開など、静的なHTMLページでは表しきれない表現において「画面」の指し示す範囲が不明瞭になります。ネイティブアプリにおいても、「画面」という単位はユーザーや設計者の認識に大きく依存し、不安定で信頼しにくい単位となりがちです。

そこで、モデルベースUIデザインでは「画面」に代わる呼び名・単位として**「ビュー」**を推奨しています。グラフィックツールにおけるレイヤーと同等のものであり、スクリーン上に現れるすべての可視要素は「ビュー」オブジェクトであり、これらが入れ子構造を取りながら形を構成すると考えます。スクリーン幅の影響を直接受けるものや、ナビゲーションの際に表示が切り替わる範囲と一致するものを「単位ビュー」として採用します。

## ナビゲーションの基本構造

ナビゲーションにおける情報の基本的な並べ方には、以下のパターンがあります。

### 概要一覧・詳細表示（List-Detail または Main-Detail）

- 情報の解像度を高めながらUIを展開する基本構造です。ナビゲーションの正方向は、情報の詳細化方向と一致します。
- まず情報の一覧があり、そこから1つの詳細情報に遷移します。詳細情報の中にさらに一覧があり、末端の詳細情報に辿り着くまでネストが続くことがあります。
- ナビゲーション設計の取っ掛かりとして、まずこの基本ペアから検討すると良いでしょう。一覧が不要と判断されれば、いきなり詳細表示のみのUI構成も成り立ちます。

### 兄弟間のナビゲーション

- 「概要一覧・詳細表示」とは異なり、いずれの情報も同じレベルで表されます。単一のコンテンツ（概念オブジェクト）同士の関係で考えることができ、ECサイトの類似商品レコメンド機能や複数のドキュメント間を直接移動する場面で活用されます。
- ユーザビリティ面では、トップレベルに戻らずに隣のコンテンツに容易にジャンプできるため、UIの使い勝手が向上します。基本設計では「概要一覧・詳細表示」を軸に、その補完用途で兄弟間のナビゲーションを追加検討することが推奨されます。

## ナビゲーションの表現パターン

ナビゲーションの表現には多様なパターンがあり、それぞれに特徴があります。

### ドリルダウン

- 情報の解像度を上げながら詳細まで深掘りしていくように経路を辿ります。コンテンツのツリー構造を形作り、レベルごとに列を並べてカスケーディングリストを構成します。
- モバイルでは1つの列を画面全体に広げ、バックボタンで前のレベルに戻る手段を提供します。デスクトップやタブレットでは、複数のレベル（列）を同時に並べる「カラム表示」を提供することもあります。

### ステップ型

- オンボーディング、チュートリアル、ガイドツアーなどの直線的な情報提示に使われるパターンで、「ウィザード」とも呼ばれます。
- ドリルダウンと似ていますが、ステップ型は「階層の移動」ではなく「ステップの進捗」を表し、情報の粒度は基本的に変わりません。
- ユーザーはステップ型プロセスを退屈に感じることがあるため、コンテンツ量を抑え、自由にスキップできる手段や後で再開・閲覧できる手段を検討する努力が必要です。

### フラット型

- タブバーやサイドバーなど、並列に切り替えるタイプのナビゲーションパターンの総称です。コンテンツをルートレベルで分岐または区分したい場合に活用されます。
- **タブバー**はグローバルナビゲーションによく使われ、ユーザーはいつでもタブを切り替えられます。
- **サイドバー**はタブバーと基本構造が似ていますが、スクリーンが広いプラットフォームで使われる傾向があり、より多くの情報を表現しやすいです。
- フラット型ナビゲーションを採用する際は、アプリの主要な関心事によって項目を区分し、ユーザーの期待に合ったナビゲーション構造を形作ることが重要です。

### ピラミッド型（ビルディング型）

- 概要レベルと詳細レベルのナビゲーションを組み合わせたパターンです。いずれの階層でも兄弟コンテンツ間の横移動、および階層間の縦移動を実現します。
- ユーザーは一覧に戻る手間を省けるため、ナビゲーション操作が楽になります。ただし、構造が複雑になるため、ユーザーのメンタルモデルと実際のナビゲーションの形を一致させることが大切です。

### ハブ・アンド・スポーク

- ホーム画面からアプリを展開するような場面を一般化したパターンです。互いに関連性の低い項目が並ぶ大きなコレクション（ハブ）があり、項目を使い終わったらハブに戻る動きをします。
- このハブは「信頼できる中立的な場所・待避場所」として位置付け、何かあったらすぐに行けるような設計にすると良いでしょう。主にプラットフォームを形成する製品のホーム画面やランチャで使われます。

### オーバーレイ

- スクリーンの手前に展開するパターンで、いくつかの小パターンに分かれます。
- **強いモーダルビュー**: モードを形成するフローティングビューのパターンです。アラートダイアログやシート型モーダルビューなどがあり、ユーザーに現在対処すべきタスクを強制的に提示し、他の操作を一時的に制限します。過度な使用は避けるべきです。アプリケーションモーダルとドキュメントモーダルの区別があります。
- **弱いモーダルビュー**: モードをほとんど形成しないシート、ポップオーバー、プルダウンメニュー、常駐バナーなどです。抵抗力が低く、揮発性の高い性質を持ち、UIに強制力を持たせたくない場面で有用です。
- **モードレスなフローティングビュー**: 明示的なモードを形成しないビューの区分です。デスクトップの「ウインドウ」がこれに相当し、背後にあるインターフェイスへの干渉がほとんどありません。

### 状態変化・入れ替え型

- ビューの一部（インライン）または全体（フルスクリーン）を書き換えて情報を入れ替えるタイプのナビゲーションパターンです。読み込み中表示やエラー表示などに用いられ、コンテンツの入れ替えは起きても情報の階層には変化が起きません。
- インラインでの状態変化を最小限の範囲で行うことで、UIの操作性の低下を防ぎ、マルチタスクな操作環境を維持しやすくなります。

### コンテンツ主体の非線形ナビゲーション

- コンテンツが含むハイパーリンクやボタンなどによって、他のビュー（ページ）に遷移できるパターンです。Webブラウザが基本とするナビゲーションであり、ヘルプやガイドのような文書閲覧、ゲームなどに採用されることがあります。
- ナビゲーション履歴をスタックして保存する仕組みや、履歴を前後に行き来するためのコントロール（戻るボタンなど）の採用を検討する必要があります。

## ナビゲーションを補足する仕組み

ナビゲーションの表現パターンと組み合わせることで、より効果的に機能するようになる仕組みです。

### ナビゲーションコントロール（ナビゲーションバー）

- ナビゲーションの移動を制御するために用いられるコントロールです。戻るボタン、進むボタン、ジャンプボタン、ショートカットなどがあり、一般的にはツールバーやメニューの形で提供されます。

### コマンド、ジェスチャー

- ナビゲーションの移動を制御するコマンドを直接実行するための仕組みです。

### パンくずリスト

- ユーザーがこれまでに辿ってきた「経路」を線形に記録するための仕組みです。過去の象徴的なビューの名前をリスト化し、ユーザーが道順やタスクの進捗を忘れないようにします。

### アクティブ化、ハイライト表現

- 現在の場所を強調表示してその他と区別できるようにする工夫です。ユーザーの現在地を常に示し、辿ってきた場所と次に行くことができる候補地との区別がつきやすくなり、迷いにくくなります。

## ナビゲーション設計の基本方針

具体的なナビゲーション設計の方法論として、以下の点が挙げられます。

### 目標地点を1つか2つに設定する

- アプリが持つ目標地点（根）は、せいぜい1つや2つに絞られるべきです。使いやすいアプリのナビゲーション構造はシンプルな形状をしています。アプリストアなら「アプリのインストール」を行えるビューが目標地点であり、そこに向かうためのいくつかの枝葉が用意されます。

### 多重度からのナビゲーションパターン検討

- コンテンツ構造で定義された**多重度**の情報（0..1, 1, 0..n, 1..n）から、概念オブジェクトのおおよその数を推測できます。
- 最大値が「1」の場合、その概念オブジェクトは基本的に単体で表せます。
- 最大値が「n」の場合、その概念オブジェクトは基本的に一覧で表せます。
- 「0」を含む場合、その概念オブジェクトには空表示が必要です。
- これにより、UIの概要一覧・詳細表示、単体表示、一覧表示、空表示といった表示方法とナビゲーション構造をある程度決定できます。

### 芋蔓式に概念オブジェクトを釣り上げるイメージで考える

- コンテンツ構造から任意の概念オブジェクトに注目し、そこから伸びる矢印の先に連なる別の概念オブジェクトを「釣り上げる」イメージで考えます。これらがナビゲーションの遷移先候補になります。
- 概念オブジェクト間の無限ループ構造は、ナビゲーションの無限ループの可能性を示唆していますが、実際のナビゲーションとしては許容しても良いですし、制限する仕組みを検討することも可能です。

## 二方向からのナビゲーション設計と挟み込み戦術

設計の精度を高めるために、ボトムアップとトップダウンの二方向から同時にナビゲーションを設計するテクニックが有効です。

### ボトムアップ式

- 概念オブジェクトの詳細表示を起点にナビゲーションの経路を逆順に探っていく方法です。早いうちからアプリの目標地点を定義でき、「芋蔓式」のテクニックの一種です。
- ユースケースと照らし合わせながら、詳細表示から遡って必要な概要一覧パターンを残し、他の概念オブジェクトについても全体を網羅します。

### トップダウン式

- グローバルナビゲーションなどの入り口側から概念オブジェクトの詳細表示に向かう経路を探っていく方法です。事前にボトムアップ式の設計が進んでいれば、目標地点に向かうためのユースケースを絞り込みやすくなります。
- 採用するグローバルナビゲーションパターン（タブバー、サイドバー、ルートリスト、ルートメニュー、ランチャなど）を決定し、ユースケースと照らし合わせながら第2階層以降のナビゲーションを検討します。

### 差異の解消

- これら二方向の設計を同時に進め、現れた構造同士の差異を比較します。共通する部分は維持し、差異が生じた部分はどちらかの設計を正として採用するか、矛盾が大きければ一から作り直すことを検討します。
- このアプローチにより、高品質で堅牢なナビゲーション構造を構築できます。

## その他のナビゲーション設計テクニック

より洗練されたナビゲーション設計のためのテクニックがいくつかあります。

### ユーザーは能動的か、受動的か

- ユーザーがナビゲーションやコンテンツに接する態度が能動的か受動的かによって、インターフェイスに温度差をつけていきます。たとえば、ホームタブは受動的な体験、検索タブは能動的な体験に対応することが考えられます。
- タブバーの並び順も「受動的タブ」から「能動的タブ」へとグラデーションを描くように配置すると、印象が良くなることがあります。

### 露出機会を考慮して並べる

- タブバーでは、左側のタブほど露出機会が高く、右側のタブほど低くなる傾向にあります。もっとも重要な情報コンテンツやナビゲーションは左側に配置し、重要度の低いものは右側に置くことが推奨されます。

### タブナビゲーションをシンプルに保つ

- モバイルのタブバーは、OS標準では最大5つまでしか設置できません。ユーザーが一度に覚えられる数字も考慮すると、**4つ程度が適切**とされています。
- 将来の拡張性を確保するため、最初から5つのタブ枠を使い切らず、3つ程度に抑えることが推奨されます。
- 「設定」タブは頻繁に変更されるものではないため、他の重要なナビゲーションに枠を譲るべきです。
- 「ホーム」タブは肥大化する傾向があるため、定期的に解体し、役割を他のタブに分散させることを心がけましょう。
- OS標準の仕組みに従うことで、コストを抑えつつさまざまなメリットを享受できます。独自のタブバーの再発明は極力避け、行う場合はアクセシビリティ機能を適切に対応させる必要があります。

### 中間行動は教科書通りに

- ユーザーが目標を達成するまでの補助的な操作や行動全般を「中間行動」と呼びます。これらの中間行動のためのインターフェイスには、特徴的なインタラクションや特別な表現を与えるのではなく、なるべく**教科書的で無難なデザインパターン**を適用することが推奨されます。
- 目標地点のインターフェイスは、中間行動のものよりも少し特別な表現にし、ブランディングも考慮しながら形作ることが大切です。

### コンポジット表現

- 親子関係の構造に対し、親子それぞれに共通のインターフェイスを持たせる表現をしたい場合に有効なテクニックです。
- たとえば、「設定」タブのツリー構造全体を大きな括りで囲い設定タブの出入りをこの全体の括りに接続することで、設定項目ツリーのどこにいてもタブからの出入りが可能になり、ツリー構造に囚われずに複雑なナビゲーションを表しやすくなります。
- モードのあるナビゲーションにも応用でき、たとえばミュージックアプリの「再生ビュー」のように、ライブラリのどこからでも再生ビューに直接遷移できる動線を表すのに役立ちます。

### 構造の縦割り化に気を付ける

- 組織構造を上から下に割るような形でナビゲーション構造を構築すると、役割の重複や横移動のしづらさが顕在化し、不合理で使いにくいインターフェイスが現れることがあります。
- タブを「入れ物」のように捉えて情報コンテンツを特定のタブに所属させる発想は、構造の縦割り化につながりやすいです。情報コンテンツは特定のタブにだけ所属させるのではなく、基本的にどのタブからもアクセスできるという認識を持つようにしましょう。

### タブジャンプを抑制する

- タブジャンプとは、ユーザーがあるタブ内での操作中に、意図せずに別のタブに勝手に切り替わる振る舞いを指します。これによりユーザーは現在地を見失い、迷子になります。
- 構造の縦割り化の抑制と同様に、情報コンテンツを特定のタブにだけ所属させず、基本的にどのタブからもアクセスできるという認識を持つことが重要です。

### タブバー、ナビゲーションバーを不必要に隠さない

- 常設のタブバーやナビゲーションバーを隠す設計は画面リソースを有効活用する目的で人気がありますが、これらはユーザーにとって道標となる存在です。
- ユーザーが現在地を適切に把握できるか、ナビゲーション操作に支障が生じていないかを考慮し、基本的に常設する方針をとり、特殊なビューでのみ一時的な非表示・再表示を適切に切り替える仕組みを用意しましょう。

### 詳細表示のモーダル化を極力避ける

- 「概要一覧・詳細表示」パターンにおいて、詳細ビューへの遷移を強いモーダルビューとして展開すると、インターフェイスの使い勝手が悪くなります。
- モーダルビューは一時的に集中させたいタスクを包むものであり、情報コンテンツ間をナビゲートさせて回遊性を高めるような場面には不向きです。ドリルダウンやコンテンツ主体のナビゲーションには採用しないようにしましょう。

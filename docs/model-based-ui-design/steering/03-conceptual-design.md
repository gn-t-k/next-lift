# 概念設計

モデルベースUIデザインにおける「概念設計」は、UIの構造設計プロセスの中盤に位置し、扱う情報コンテンツや機能の概要を明確にする重要なフェーズです。この段階では、UIの「中身」と「枠組み」という2つの軸で設計を進め、同時にUIのコンセプトも定義することで、UIデザイン全体の強固な基盤を築くことを目指します。

「概念設計」を構成する主な要素は以下の3つです：

1. **UIの中身の定義（コンテンツ構造）**：情報コンテンツのモデルである「コンテンツ構造」を構築します。
2. **UIの枠組みの定義（フレーム構造）**：コンテンツ構造を取り囲む「フレーム構造」を構築します。
3. **デザインの芯の定義（コンセプト）**：デザインの指針を示す「コンセプト定義」を行います。

## 概念設計の意義

概念設計は、単に設計を効率化するだけでなく、ユーザー体験を考慮したデザインの達成や、エンジニアリングチームとの共通言語の醸成にも貢献します。

- **設計効率の向上**：モデルを用いて検討するため、迅速かつ効率的に設計を進められ、設計変更も容易になります。
- **ユーザー体験との関連付け**：ユーザーの行動シナリオからキーワードを抽出し、概念オブジェクトを定義することで、ユーザー体験に基づいた設計を実現します。
- **エンジニアリングとの連携強化**：「概念モデル」を共通言語として用いることで、デザインとエンジニアリングの間での概念認識や命名の統一が図られ、UI上の表現とプログラム内の表現を一致させやすくなります。

## コンテンツ構造の設計

コンテンツ構造は、サービスやアプリケーション内で扱うコンテンツに関する構造設計とその成果物である「概念モデル」を指します。これはオブジェクト指向開発方法論、とくにUML（Unified Modeling Language）の考え方を活用し、概念オブジェクトとその関連性を示すことで、扱うコンテンツ全体のモデルを表現します。コンテンツ構造の設計はUIの「中身」を決定するプロセスであり、直接ユーザーが触れるUIの形に直結するものではありません。しかし、扱うコンテンツを決定することは、UIのコンセプトを形成することにもつながるため、非常に重要な工程です

モデルベースUIデザインでは、概念モデルはあくまでコンテンツに関する定義であり、UIの枠組みや振る舞い方（ナビゲーション、インタラクション）は別途設計が必要です。したがって、コンテンツ構造の設計は、フレーム構造の設計やコンセプト定義、ナビゲーション構造の設計と組み合わせて、UIの表現を検討するための下地を形作ります。

### 概念オブジェクトの手がかり

コンテンツ構造の設計を始める段階では、概念オブジェクトはまだ認識されていないだけで、ほとんどの場合、どこかに隠れています。これら隠れた概念オブジェクトの手がかりは、さまざまな情報源から「抽出」できます。ユースケース/タスクに、概念オブジェクトやその手がかりが隠されていることが多いです。

概念オブジェクトの手がかりは、基本的に「もの」に関する説明の中にあります。名詞や目的語で表されるもの、またはユーザーの関心の対象となるようなものが、概念オブジェクトの候補となります。これらは具体的な名前で表されることもあれば、抽象的に説明されることもあります。名前は後から決めることができるため、まずは手がかりを見つけて、ひととおり洗い出すことを目指します。

- **ユースケース一覧**: ユースケースは「〈誰〉が〈何〉を〈行動〉できる」構文で表現されるため、この構文のうち〈何〉に当たる目的語が概念オブジェクトの候補となります。
- **タスク一覧**: タスクも行動シナリオから組み立てられるため、ユースケース一覧と同様に概念オブジェクトの手がかりが隠されています。CRUDの操作対象やタスク表などから目的語を探すことが推奨されます。
- **行動シナリオ**: 行動シナリオから概念オブジェクトの手がかりを探す場合も、基本的に名詞や目的語に着目します。ただし、同じ作業を繰り返すムダを避けるため、まずはユースケース一覧とタスク一覧を当たることが推奨されます。
- 例として、料理アプリの行動シナリオから抽出された概念オブジェクトの候補には、「レシピ」「料理研究家」「材料」「解説動画」「ユーザー」「コメント」などが挙げられています。

### 概念オブジェクトの要件

抽出した手がかりが実際に概念オブジェクトとして適切かどうかを判断するための要件が示されています。

- 名詞で表せる「もの」。
- コマンド（アクション）やジェスチャーそのものではない。
- 認知や操作の対象となり得る。
- メタファーで表されることがある。
- メタデータを含む可能性がある。
- プリミティブな値ではない（例：プレイリスト名、ファイル数、住所情報、ステータスはプリミティブな情報に寄りすぎるため概念オブジェクトとしては除外される傾向がある）。
- CRUDの対象。
- 複製できる可能性がある（システム仕様として複製できなくても良い）。
- 同様の性質を有したものが複数個存在し得る（見た目は異なる可能性がある）。

### 概念オブジェクトへの命名

概念オブジェクトの手がかりが見つかったら、次にその概念の名前を決定します。名前は、実装内部の表現（例：データベース内の名前、プログラムのクラス名、変数名など）や専門用語を避け、基本的にはユーザーが直接認知できて理解しやすい表現であるべきです。

命名においては、そのコンテクストに合ったメタファーや名前を採用することで、ユーザーにとって馴染みやすいUI表現に近づけられます。たとえば、不要なデータを保管する場所を「ゴミ箱」と表現することは、ユーザーが現実世界の「ゴミ箱」の意匠や振る舞いを模倣して理解しやすくするメタファーの活用です。これは広く定着しているイディオムであり、ユーザーの学習コストを下げます。

将来の拡張性も考慮して命名することが重要です。たとえば、「料理研究家」という概念オブジェクトの候補があった場合、将来的に料理研究家ではない別の存在がレシピを監修する可能性があるならば、「（レシピ）監修者」のようなより広い意味を持つ名前の方が安全です。

### 用語の定義（シソーラス定義）

概念オブジェクトや機能など、デザインに関わるさまざまな概念の名前や語彙（シソーラス）を「文言定義表」にまとめて管理することが推奨されています。デザインで語彙にブレが生じると、設計が不安定になりやすく、作業に混乱が生じやすいためです。これは、デザインとエンジニアリング間で概念の認識や命名を揃え、UI上の表現とプログラム内の表現を一致させることを目指します。

文言定義表には、一般表記（日本語）、代替表記（類似表記、複数可）、英語表記（ファイル名やAPI名などに用いる）、およびデザインとしての補足説明・備考欄を含めることが理想とされています。通常はスプレッドシートで作成し、デザインチームと開発チームを跨いで共有可能な状態にすることで十分に機能します。これは、ドメイン駆動設計（DDD）における「ユビキタス言語」の考え方と同等です。

### キーオブジェクトを見定める

コンテンツ構造に複数の概念オブジェクトが定義できたら、その中でとくに重要あるいは主要と考えられるものを1つか2つ選び、「キーオブジェクト」（または「メインオブジェクト」）と位置付けます。図面上では、星マークや太字などの区別がつく方法で明示することが推奨されます。

キーオブジェクトの選定にあたっては、ユースケースやタスクの中でとくに出する概念オブジェクトであるかどうか、またはコンセプトとしてもっとも重視したい存在であるかどうかを判断基準にします。ユーザーの気持ちになって「主要」の存在であるかを考えることも有効です。

アプリケーションとキーオブジェクトの例がいくつか挙げられています。

- ミュージックプレイヤー：ミュージックトラック、プレイリスト
- 料理アプリ：レシピ
- 写真アプリ：写真、アルバム
- ToDoリスト：タスク
- カレンダー：予定（イベント）
- メール：メッセージ、メールボックス
- 画像編集アプリ：書類（ドキュメント）
- メモ：メモ用紙（ドキュメント）
- チャット：メッセージ投稿、ユーザー
- 電話アプリ：着信（オブジェクトとして）、連絡先

### 概念オブジェクトの視点になって関連性を考える

抽出した概念オブジェクトに名前を付けただけではコンテンツ構造にはならず、それらの関連性（関係）を明示する必要があります。

例として、料理アプリにおける「レシピ」と「材料」の関連を考える手順を示します。

1. **「レシピ」視点からの「材料」との関連性**: レシピにとって材料は自身の「構成材料」として見ることができます。そのため、レシピから材料へ矢印を引き、「構成材料」といった属性名を付けます。
2. **「材料」視点からの「レシピ」との関連性**: 視点を入れ替えると、材料にとってレシピは自身の「活用されたレシピ」として見ることができます。材料からレシピへ矢印を引き、「活用されたレシピ」といった属性名を付けます。
3. **互いの矢印と属性名を示す**: 上記1, 2によって、レシピと材料は互いに関連があることがわかるため、今回は両方向の関連を残します。関連が示せない場合は片方向のみの関連になることもあります。

### 多重度を示す

多重度（Multiplicity）とは、2つの概念オブジェクト間の関連において、概念オブジェクトAから関連している先の概念オブジェクトBがいくつに見えるのかを示す情報です。以下の4パターンで表現されます。

- `0..1`: 0もしくは単数
- `1`: 単数
- `0..n`: 0以上、単数もしくは複数
- `1..n`: 単数もしくは複数

「n」は1を含む複数を意味し、複数または無限大を表します。具体的な数値（例：`0..2`、`3..5`）による多重度表記は、モデルの柔軟性を保つために採用されません。UMLでは「n」の代わりにアスタリスク記号「*」を使うこともありますが、本書では「n」に統一されています。

それぞれの関連（矢印）に多重度を付与し、たとえば「レシピ」→「材料」の関連は「1..n」となります。これは、レシピには必ず1つ以上の材料が必要であり、同時に複数の材料が存在する可能性も考慮されるためです。多重度の定義は実際のシステム設計によって変わることもあるため、必要であればエンジニアリングの視点も取り入れることが推奨されます。

### 多重度からパターンを読み解くテクニック

多重度は、UIの大まかな表示パターンを見積もる手がかりとなります。

- 多重度に「0」が含まれる場合、矢印の先の概念オブジェクトの表示では**空表示**を検討しなければならない。
- 多重度に「n」が含まれる場合、矢印の先の概念オブジェクトの表示では**一覧または複数個並べた表示**を検討しなければならない。
- 多重度の最大値が「1」である場合、矢印の先の概念オブジェクトの表示では**単体表示**を検討しなければならない。

これらのルールを覚えておくことで、コンテンツ構造の定義のみでUIの主要な表示パターン（概要一覧、詳細表示、空表示）を抜け漏れなく見積もることができ、具体的なUIの絵を描くことなく設計を進められます。

### 概念オブジェクトの拡充／プロパティの記述

コンテンツ構造の設計で、コンテンツ同士の概要だけでなく、より詳細な情報が必要になった場合は、「プロパティ」と呼ばれる属性の形で概念オブジェクトに追記します。たとえば、ミュージックトラックのタイトルや再生時間などがこれに該当します。概念オブジェクトの要件からは外れるものの、何らかのコンテンツに関連する名詞的な存在が見つかれば、それらはいずれかの概念オブジェクトのプロパティとして定義できます。

ただし、プロパティを厳密に定義しすぎると、モデルを作ることが目的になりがちであり、最終的な実装はエンジニアリングの都合に左右されるため、情報の粒度を細かくしすぎないよう注意が必要です。

## フレーム構造の設計

フレーム構造は、UIの基本的な枠組みを定義します。フレーム構造の設計は、モデルベースUIデザインの中盤に位置し、コンテンツ構造の設計でUIの「中身」がモデル化された後、その中身を実際に取り扱うUIの「枠組み」に焦点を当てています。フレーム構造はナビゲーション構造の材料にもなるため、ナビゲーション構造の設計と合わせてUIの骨格を構築し、その後のインタラクション設計に備えることが目的とされています。

### ワイヤーフレームの定義について

「ワイヤーフレーム」という言葉には明確な共通見解や定義がなく、その粒度や活用方法には解釈のずれが生じています。モデルベースUIデザインのプロセスにおいては、ワイヤーフレームを「UIの枠組みの設計」という視点から「フレーム構造」と括り、その表現度合いは簡素で良いものとします。

### フレーム構造を設計する方針

モデルベースUIデザインでは、構造設計の観点を重視するため、ワイヤーフレームの設計にもモデルベースの発想が持ち込まれています。
具体的には、以下の要素をワイヤーフレームの設計から**基本的に除外**します:

- コンテンツ構造
- ナビゲーション構造
- UIコントロール（ボタン、スライダーなど）
- インタラクション（操作方法やルール）
- レイアウトに関する詳細情報

代わりに、フレーム構造では以下の点を**重点的に検討**します:

- コンテンツ構造をどのように包んで表示するのか。
- グローバルナビゲーションに象徴されるタブバーやナビゲーションメニューなどの扱い方針。

### フレーム構造に含めるべきもの・含めるべきではないもの

フレーム構造の成果物は主にワイヤーフレームであり、着色や形が整っている必要はなく、手描きでも問題ありません。

**含めると良いもの**:

- コンテンツを表示する枠組み（ビューの簡易表現など）
- 採用するUIパターンの検討（簡素で良い）
- 単位ビューの範囲
- グローバルナビゲーションの枠組み
- ウィンドウやペインの構造
- モーダルビューの範囲
- 最低限必要なUIコントロール（「ボタンの枠線」程度のものなら可）
- 可能であれば、アクションの対応付け

**含めなくて良いもの**:

- コンテンツ（テキスト、イメージ、その他の内容情報）
- コンテンツ構造（概念オブジェクトやその詳細情報）
- ナビゲーション構造
- 具体的なUIコントロール
- 詳細なレイアウト情報
- 色やグラフィック要素
- タイポグラフィ
- 詳細なインタラクション要素

### 単位ビュー（Unit View）

単位ビューとは、ユーザーが「意味のあるビューのまとまり」として認識できる範囲を指します。スクリーン内のすべての可視要素は「ビュー」として扱われる中で、一定のまとまりができているグループが「単位ビュー」とされます。これはコンポーネントと近い考え方ですが、単位ビューは具体的なユースケースやタスクを1つ実現するための意味を持つ点で異なります。
単位ビューには、リストやグリッドのカード単位、セル単位、ヘッダー、ナビゲーションバー、カルーセルコンポーネント、スクロールビューの単位、タブ単位、モーダルビューの単位、フローティングビューの単位など、さまざまな大きさのものが含まれます。重要なのは、それがデザイン上またはユーザーのメンタルモデルとして「一定の意味を持つビュー（のグループ）であるか」という点です。

### コンテンツ構造と概念オブジェクトからのビュー表現検討

コンテンツ構造が具体化されていれば、UIとして適切なフレーム表現を考えるヒントになります。たとえば、料理アプリの「レシピ」は大量の情報を扱うため、リストやグリッド表現を中心にスクロールビューで包む構造が適しており、ビューアー型のイディオムが想定されます。ユーザーによる能動的な検索や受動的な「出会い」体験が重要になります。
「材料」については、横断検索やアイコン・イメージの表示、個別管理の仕組み（CMS）の検討が挙げられます。
「動画」に関しては、動画プレイヤーやそのコントローラーが必要になり、インライン型やフルスクリーンでの展開、OSやブラウザ依存の可能性が考慮されます。

### ユースケースとコンセプトからのビュー表現検討

どのユースケースが優位かによって、ビュー構成の方針が決まります。たとえば、「レシピ」がもっとも重視されるなら、レシピを中心に露出するビュー構成を考えます。
ユーザーがコンテンツに接する態度が「受動的」か「能動的」かによっても適切なビュー表現や機能が変わります。受動的な場合は、複合的な構造化リストなどでコンテンツをユーザーに露出させるアプローチが有効であり、能動的な場合は、再現可能な方法で操作できるようにします。
検索に関する仕組みでは、検索対象となる概念オブジェクトを列挙し、検索条件の入力方法を検討します。検索方法が似ている場合は統合し、大きく異なる場合は区別して表現を分けることが推奨されます。

### グローバルナビゲーションの方針

コンテンツ構造の設計が完了していれば、情報アーキテクチャの形がある程度見えてくるため、ナビゲーション戦略も検討しやすくなります。
重要なのは、**アプリ全体で機能するグローバルナビゲーション構造は「1つ」のみ**とすることです。これはアプリのUIに芯を通し、今後のナビゲーション構造の基礎となります。

また、1つのアプリの中で2つ以上のナビゲーション構造を採用する際には、UIのドメインをしっかりと区別できる範囲で行うべきであり、多くの場合「モード」の境界が目安となるとされています。同じモード内で異なるナビゲーションルールを複数採用すると使いづらくなるため、シンプルさを保ち、1つのルールに沿った構造を目指すことが大前提とされます。

### レイアウトの基本方針

ここでいうレイアウトは、ボタンの整列やテキストの行間などの細かなトピックではなく、ビューを区切るペインの基本ルールを決めることを指します。デスクトップUIでは、グローバルナビゲーション、ツールバー、コンテンツ描画、プロパティ操作などのためのペインの役割を決める必要があります。
アプリのコンセプトやユースケースと合致する「作業の起点」を設計すること、概念オブジェクトごとに適したビュー表現やナビゲーションが必要になること、概念オブジェクトの詳細ビューから検討していくことなどが考慮点として挙げられています。

コマンドパレットの検討では、メニューバーやツールバー、コンテクストメニューの活用が一貫して行えることが理想とされます。
マルチドキュメント化やマルチウィンドウ化の検討では、コンテンツが複数のドキュメントによって抽象化されるか/ユーザーがドキュメントを管理する必要があるか/ウィンドウやタブによってドキュメントを展開する必要があるか/ファイルに保存可能かなどが考慮点となります。

### フレーム表現のテクニック

フレーム構造を示すための具体的なテクニックとして、以下の要素があります:

- **整列（Alignment）**: 等級の近い要素群を縦や横に揃えて並べ、意味のあるまとまりを作る。
- **入れ子（Nesting）**: 共通する部品を1つのグループにまとめて階層化する。
- **分割（Division）**: 面を分割してグループ分けするためのテクニックで、マルチウィンドウ、マルチペイン、タブ化などに使用されます。
- **展開（Expansion）**: 要素数が多い場合や複雑な場合に、普段は隠しておき、必要な場面で表示するテクニックです（フローティングビュー、ポップアップ、ドロワー、メニューなど）。
- **アクションパネル（Action Panel）**: ユーザーに任意のアクションを提供するための仕組みで、ツールバー、メニューバー、タブバー、コマンドパレット、検索バーなどが含まれます。

### コンテンツ構造とフレーム構造の対応付け

フレーム構造に対してコンテンツ構造を対応させ、UIの骨組みを形作ります。この段階では、ナビゲーションやインタラクションの詳細は今後の作業で着手するため、UIとしての精度を上げる必要はありません。概念オブジェクトが持つコンテンツを表現できる要素を単位ビュー中に配置し、適当にレイアウトします。概念オブジェクトが持っていない情報はビューの中に表さないようにします。

### 単位ビューにコンテンツとアクションを対応付ける

コンテンツ構造やタスク表が完成していれば、概念オブジェクトに関わるコンテンツ情報や、実行可能なアクションを把握しやすくなります。タスク整理で行ったCRUDによるタスク分類の成果を活用し、概念オブジェクトが現れるビューの近辺に必要なアクションを簡単に紐づけます。ユースケースや優先度を参考にしながら、アクションの表現度合いに温度差をつけることが推奨されます。

### レイアウトの最終調整

この段階ではまだモデルの構造設計に留まり、UI表現の具体化は避けるべきです。レイアウトの具体的な作業は、後のナビゲーション構造の設計を終え、プラットフォームへの適合段階に入ってから行うことで、より具体的で緻密な形に仕上げることができます。これにより、レイアウト作業は材料と条件のパズルを組み合わせるような感覚で行えるようになり、大幅に楽になります。

## コンセプト定義

wip

## 他の設計フェーズとの連携

概念設計は、モデルベースUIデザインの他のフェーズと密接に連携しています。

- **序盤フェーズ**：ユーザーリサーチの結果から得られた「ユースケース定義」や「タスク整理」の成果物（行動シナリオやペルソナモデル、タスク表など）を、概念オブジェクトやタスク、コンセプトの抽出・整理の材料として活用します。
- **中盤フェーズ**：概念設計で確立されたコンテンツ構造やフレーム構造、コンセプトは、その後の「ナビゲーション構造設計」の基盤となります。とくに、概念オブジェクトの多重度がナビゲーションパターン（一覧表示、詳細表示、空表示）の検討に直接影響します。
- **終盤フェーズ**：構築された概念モデルは、「プラットフォームへの適合とインタラクション設計」において、具体的なレイアウトやインタラクションパターンの検討に活用されます。

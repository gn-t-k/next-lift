# apps/web開発ガイド

このファイルは、apps/webディレクトリで作業する際のガイダンスです。

## React/Next.jsベストプラクティス

パフォーマンス最適化については Vercel React Best Practices Skill を参照。
主要なルール:

- Client Componentは可能な限り「葉」の位置に配置
- ページ全体を`"use client"`にしない
- Server Actionには`useActionState`、クライアント側非同期処理には`useTransition`を使用
- キャッシュ設定はコンポーネント側に配置し、クエリは純粋関数として実装

## ファイル整理

- ページで使用される関数や定数は、同ディレクトリ内にプレフィックス`_`をつけたディレクトリを作成して整理する
  - クエリ関数（データ取得）: `_queries/` ディレクトリに配置
  - ミューテーション関数（データ変更・副作用のある操作）: `_mutations/` ディレクトリに配置
  - UIコンポーネント: `_components/` ディレクトリに配置
  - 定数: `_constants/` ディレクトリに配置
- コロケーション原則
  - データ取得関数とその戻り値の型は同じファイルに配置
  - コンポーネントとそのfallback/skeletonコンポーネントは同じファイルに配置

## 命名規則

- ファイル名はケバブケース（kebab-case）を使用
- 関数名、変数名はキャメルケース（camelCase）を使用
- コンポーネント名はパスカルケース（PascalCase）を使用
- exportしない関数やexport defaultする関数など、外部から参照されないものは極力シンプルな命名にする
  - 例: `export default Page`, `export default Layout`

## セマンティックHTML要素

- レイアウトのための要素は、役割に応じて適切なセマンティック要素を使用する
  - **`<main>`**: ページのメインコンテンツコンテナー
  - **`<header>`**: ページタイトルと説明文などのヘッダーセクション
  - **`<section>`**: 大きな意味的まとまり（必要に応じて）
  - **`<time>`**: 日付や時間を表示する要素（`datetime`属性で機械可読な形式を指定）
  - **`<div>`**: 純粋にレイアウト目的のみの要素

## 余白の実装

- 要素間の余白は親要素で一括管理する
  - 通常フロー: `space-y-*` / `space-x-*` を使用
  - Flexbox/Grid: `gap-y-*` / `gap-x-*` / `gap-*` を使用
- 個別要素への`margin`指定は避け、親要素で余白を制御する
